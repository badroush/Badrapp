{% extends 'base.html.twig' %}

{% block title %}إضافة منتج جديد{% endblock %}

{% block body %}
	<div class="container mt-4">
		<div class="card shadow-sm">
			<div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
				<h2 class="mb-0">➕ إضافة منتج جديد</h2>
			</div>
			<div class="card-body">
				{{ form_start(form, {
    'attr': {'id': 'articleForm', 'data-action': path('article_create_ajax')}
}) }}
				<div class="row">
					<div class="col-md-12">
						{{ form_row(form.nom) }}
						{{ form_row(form.description) }}
						{{ form_row(form.categorie) }}
						{{ form_row(form.fournisseur) }}
					</div>
				</div>
				<button type="submit" class="btn btn-success mt-3">
					<i class="bi bi-save"></i>
					حفظ المنتج
				</button>
				<a href="{{ path('article_index') }}" class="btn btn-secondary mt-3">
					<i class="bi bi-arrow-return-left"></i>
					عودة
				</a>
				{{ form_end(form) }}
			</div>
		</div>
	</div>
{% endblock %}

{% block javascripts %}
	 <script>
	document.addEventListener("DOMContentLoaded", function() {
	    // Initialiser Select2 pour catégorie et fournisseur
	    document.querySelectorAll('.select2-entity').forEach(function(el) {
	        $(el).select2({
	            theme: "bootstrap-5",
	            width: '100%',
	            dir: "rtl",
	            placeholder: "ابحث أو اختر...",
	            language: {
	                noResults: function() { return "لا توجد نتائج"; },
	                searching: function() { return "جارٍ البحث…"; }
	            }
	        });
	    });
	});
	</script>
{% endblock %}