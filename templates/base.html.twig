{# templates/base.html.twig #}
<!DOCTYPE html>
<html dir="rtl" lang="ar">
<<<<<<< HEAD
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Badr_APP{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap 5 RTL CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdn.datatables.net/2.0.8/css/dataTables.bootstrap5.css">

    {% block stylesheets %}{% endblock %}
</head>

<body>
    {% if app.user %}
        <!-- Inclure le header automatiquement -->
         {% include "layout/header.html.twig" %} 
    {% else %}
        <script>
            window.location.href = "{{ path('app_login') }}";
        </script>
    {% endif %}

    <!-- Contenu principal -->
    <div class="container main-content">
        {% block body %}{% endblock %}
    </div>

   

    {% block javascripts %}
    <script>
document.addEventListener("DOMContentLoaded", function() {
    {% for flash_error in app.flashes('error') %}
        Swal.fire({
            icon: 'error',
            title: 'Ø®Ø·Ø£!',
            text: '{{ flash_error|e('js') }}',
            confirmButtonText: 'Ø­Ø³Ù†Ø§Ù‹'
        });
    {% endfor %}

    {% for flash_success in app.flashes('success') %}
        Swal.fire({
            icon: 'success',
            title: 'Ù†Ø¬Ø§Ø­!',
            text: '{{ flash_success|e('js') }}',
            confirmButtonText: 'Ø­Ø³Ù†Ø§Ù‹'
        });
    {% endfor %}
});
</script>
    
    {% endblock %}
</body> 
<!-- Scripts -->

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="https://cdn.datatables.net/2.0.8/js/dataTables.js"></script>
    <script src="https://cdn.datatables.net/2.0.8/js/dataTables.bootstrap5.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="{{ asset('js/app.js') }}"></script> <!-- Nouveau fichier JS -->
</html>
=======
	<head>
		<meta charset="UTF-8">
		<title>
			{% block title %}Gestion de Stock
			{% endblock %}
		</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<!-- Bootstrap 5 CSS (CDN) -->
		<!-- Bootstrap 5 RTL CSS -->
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css" rel="stylesheet"> <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
		<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet"/>
		<link href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css" rel="stylesheet"/>

		<link
		rel="stylesheet" href="https://cdn.datatables.net/2.0.8/css/dataTables.bootstrap5.css">

		<!-- Style personnalisÃ© -->
		<style>
			body {
				background-color: #f8f9fa;
				padding-top: 70px;
				font-family: 'Tajawal', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
			}
			/* Forcer RTL dans Select2 */
			.select2-selection__rendered {
				text-align: right !important;
			}
			.select2-search--dropdown .select2-search__field {
				text-align: right;
			}
			/* Police arabe moderne (Google Fonts) */
			@import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap');

			.navbar-brand {
				font-weight: 700;
				font-size: 1.3rem;
			}

			.avatar-placeholder {
				width: 36px;
				height: 36px;
				background-color: #0d6efd;
				border-radius: 50%;
				display: flex;
				align-items: center;
				justify-content: center;
				color: white;
				font-weight: bold;
				font-size: 0.9rem;
			}

			.main-content {
				margin-bottom: 40px;
			}

			.footer {
				background-color: #f1f3f5;
				padding: 1rem 0;
				border-top: 1px solid #e0e0e0;
			}

			.stock-alert {
				color: #dc3545;
				font-weight: bold;
			}

			/* Cards : garder un look moderne */
			.card {
				box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
				border: 1px solid rgba(0, 0, 0, 0.05);
				margin-bottom: 1.5rem;
			}

			.card-header {
				font-weight: 600;
				background-color: #ffffff;
			}
			.swal2-rtl .swal2-title,
			.swal2-rtl .swal2-html-container,
			.swal2-rtl .swal2-input,
			.swal2-rtl .swal2-validation-message {
				text-align: right !important;
			}
			.swal2-rtl .swal2-actions {
				flex-direction: row-reverse;
			}
		</style>

		{% block stylesheets %}{% endblock %}
	</head>
	<!-- jQuery (obligatoire) -->
	 <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
	<!-- Bootstrap JS -->
	 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<!-- Select2 -->
	 <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
	<!-- DataTables -->
	 <script src="https://cdn.datatables.net/2.0.8/js/dataTables.js"></script>
	 <script src="https://cdn.datatables.net/2.0.8/js/dataTables.bootstrap5.js"></script>

	 <script>
						document.addEventListener("DOMContentLoaded", function() {
						    // =============== SELECT2 ===============
						    const typeSelect = document.getElementById('mouvement_stock_type');
						    const fournisseurField = document.getElementById('fournisseur-field');
						    const beneficiaireField = document.getElementById('beneficiaire-field');
						    const fournisseurSelect = document.getElementById('mouvement_stock_fournisseur');
						    const beneficiaireSelect = document.getElementById('mouvement_stock_beneficiaire');

						    function initSelect2(element, placeholder) {
						        $(element).select2({
						            theme: "bootstrap-5",
						            width: '100%',
						            dir: "rtl",
						            placeholder: placeholder,
						            language: {
						                noResults: function() { return "Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬"; },
						                searching: function() { return "Ø¬Ø§Ø±Ù Ø§Ù„Ø¨Ø­Ø«â€¦"; },
						                inputTooShort: function(args) {
						                    return "Ø£Ø¯Ø®Ù„ " + (args.minimum - args.input.length) + " Ø£Ø­Ø±Ù Ø¥Ø¶Ø§ÙÙŠØ©";
						                }
						            }
						        });
						    }

						    if (fournisseurField) fournisseurField.style.display = 'none';
						    if (beneficiaireField) beneficiaireField.style.display = 'none';

						    if (typeSelect) {
						        typeSelect.addEventListener('change', function() {
						            const value = this.value;
						            if (fournisseurField) fournisseurField.style.display = 'none';
						            if (beneficiaireField) beneficiaireField.style.display = 'none';
						            if (fournisseurSelect) fournisseurSelect.value = '';
						            if (beneficiaireSelect) beneficiaireSelect.value = '';

						            if (value === 'entree' && fournisseurField) {
						                fournisseurField.style.display = 'block';
						                if (!$(fournisseurSelect).hasClass('select2-hidden-accessible')) {
						                    initSelect2(fournisseurSelect, "Ø§Ø®ØªØ± Ù…ÙˆØ±Ù‘Ø¯Ù‹Ø§");
						                }
						            } else if (value === 'sortie' && beneficiaireField) {
						                beneficiaireField.style.display = 'block';
						                if (!$(beneficiaireSelect).hasClass('select2-hidden-accessible')) {
						                    initSelect2(beneficiaireSelect, "Ø§Ø®ØªØ± Ù…Ø³ØªÙÙŠØ¯Ù‹Ø§");
						                }
						            }
						        });

						        if (typeSelect.value) {
						            typeSelect.dispatchEvent(new Event('change'));
						        }
						    }

						    // =============== DATATABLES ===============
						    const table = document.getElementById('mouvementsTable');
						    if (table) {
						        new DataTable('#mouvementsTable', {
						            language: {
						                url: 'https://cdn.datatables.net/plug-ins/2.0.8/i18n/ar.json'
						            },
						            paging: true,
						            pageLength: 10,
						            lengthChange: false,
						            searching: true,
						            info: true,
						            order: [[0, 'desc']],
						            columnDefs: [
						                {
						                    targets: 2, // colonne "Ø§Ù„Ù†ÙˆØ¹"
						                    orderDataType: 'dom-text',
						                    type: 'string'
						                }
						            ]
						        });
						    }
						    const summaryTable = document.getElementById('stockSummaryTable');
						if (summaryTable) {
						    new DataTable('#stockSummaryTable', {
						        language: { url: 'https://cdn.datatables.net/plug-ins/2.0.8/i18n/ar.json' },
						        paging: true,
						        pageLength: 10,
						        searching: true,
						        info: true,
						        order: [[0, 'asc']]
						    });
						}

						// Initialiser TOUS les champs avec .select2-entity, y compris article
						document.querySelectorAll('.select2-entity').forEach(function(select) {
						    if (!$(select).hasClass('select2-hidden-accessible')) {
						        $(select).select2({
						            theme: "bootstrap-5",
						            width: '100%',
						            dir: "rtl",
						            placeholder: select.getAttribute('data-placeholder') || "Ø§Ø¨Ø­Ø« Ø£Ùˆ Ø§Ø®ØªØ±...",
						            language: {
						                noResults: function() { return "Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬"; },
						                searching: function() { return "Ø¬Ø§Ø±Ù Ø§Ù„Ø¨Ø­Ø«â€¦"; }
						            }
						        });
						    }
						});
						});
						</script>
		<body>



		<!-- Contenu principal -->
		<div class="container main-content"> {% block body %}{% endblock %}
			</div>
			<!-- Footer -->
			<footer class="footer mt-auto">
				<div class="container text-center">
					<small class="text-muted">Â©
						{{ 'now'|date('Y') }}
						- Application de gestion de stock</small>
				</div>
			</footer>
			 <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
			 <script>
																		document.addEventListener("DOMContentLoaded", function() {
																		    const urlParams = new URLSearchParams(window.location.search);
																		    const added = urlParams.get('added');

																		    if (added === 'article') {
																		        Swal.fire({
																		            title: 'ØªÙ… Ø¨Ù†Ø¬Ø§Ø­!',
																		            text: 'Ù„Ù‚Ø¯ ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­.',
																		            icon: 'success',
																		            confirmButtonText: 'Ø­Ø³Ù†Ø§Ù‹',
																		            confirmButtonColor: '#198754',
																		            iconHtml: '<i class="bi bi-check-circle-fill"></i>',
																		            // RTL
																		            customClass: {
																		                container: 'swal2-rtl'
																		            }
																		        }).then(() => {
																		            // Optionnel : nettoyer l'URL
																		            history.replaceState(null, null, window.location.pathname);
																		        });
																		    }

																		    if (added === 'mouvement') {
																		        Swal.fire({
																		            title: 'ØªÙ… Ø¨Ù†Ø¬Ø§Ø­!',
																		            text: 'Ù„Ù‚Ø¯ ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø­Ø±ÙƒØ© ÙˆØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø®Ø²ÙˆÙ†.',
																		            icon: 'success',
																		            confirmButtonText: 'Ø­Ø³Ù†Ø§Ù‹',
																		            confirmButtonColor: '#198754',
																		            iconHtml: '<i class="bi bi-check-circle-fill"></i>',
																		            customClass: {
																		                container: 'swal2-rtl'
																		            }
																		        }).then(() => {
																		            history.replaceState(null, null, window.location.pathname);
																		        });
																		    }

																		    // Gestion des erreurs (optionnel)
																		    {% for message in app.flashes('error') %}
																		        Swal.fire({
																		            title: 'Ø®Ø·Ø£!',
																		            text: '{{ message|e('js') }}',
																		            icon: 'error',
																		            confirmButtonText: 'Ø¥ØºÙ„Ø§Ù‚',
																		            customClass: {
																		                container: 'swal2-rtl'
																		            }
																		        });
																		    {% endfor %}
																		});
																		</script>
			 <script>
											// Suppression d'article (avec vÃ©rification)
						document.querySelectorAll('.delete-article').forEach(button => {
						    button.addEventListener('click', function() {
						        const id = this.getAttribute('data-id');
						        Swal.fire({
						            title: 'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ',
						            text: "Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡!",
						            icon: 'warning',
						            showCancelButton: true,
						            confirmButtonText: 'Ù†Ø¹Ù…ØŒ Ø§Ø­Ø°ÙÙ‡!',
						            cancelButtonText: 'Ø¥Ù„ØºØ§Ø¡',
						            confirmButtonColor: '#d33',
						            cancelButtonColor: '#6c757d',
						            customClass: { container: 'swal2-rtl' }
						        }).then((result) => {
						            if (result.isConfirmed) {
						                fetch(`/article/${id}/delete`, {
						                    method: 'DELETE',
						                    headers: { 'X-Requested-With': 'XMLHttpRequest' }
						                })
						                .then(response => {
						                    if (response.ok) {
						                        return response.json();
						                    } else {
						                        return response.json().then(err => Promise.reject(err));
						                    }
						                })
						                .then(data => {
						                    Swal.fire({
						                        title: 'ØªÙ… Ø§Ù„Ø­Ø°Ù!',
						                        text: 'Ù„Ù‚Ø¯ ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­.',
						                        icon: 'success',
						                        customClass: { container: 'swal2-rtl' }
						                    }).then(() => {
						                        location.reload();
						                    });
						                })
						                .catch(error => {
						                    Swal.fire({
						                        title: 'ÙØ´Ù„ Ø§Ù„Ø­Ø°Ù!',
						                        text: ' Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ Ù„Ø£Ù†Ù‡ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø­Ø±ÙƒØ§Øª Ù…Ø®Ø²ÙˆÙ†. ÙŠØ±Ø¬Ù‰ ØªØµÙÙŠØ± Ø§Ù„Ø±ØµÙŠØ¯ Ø£ÙˆÙ„Ø§Ù‹ . Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬.',
						                        icon: 'error',
						                        customClass: { container: 'swal2-rtl' }
						                    });
						                });
						            }
						        });
						    });
						});
											// Suppression de mouvement
											document.querySelectorAll('.delete-mouvement').forEach(button => {
											    button.addEventListener('click', function() {
											        const id = this.getAttribute('data-id');
											        Swal.fire({
											            title: 'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ',
											            text: "Ø³ÙŠØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø±ØµÙŠØ¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§!",
											            icon: 'warning',
											            showCancelButton: true,
											            confirmButtonText: 'Ù†Ø¹Ù…ØŒ Ø§Ø­Ø°Ù Ø§Ù„Ø­Ø±ÙƒØ©!',
											            cancelButtonText: 'Ø¥Ù„ØºØ§Ø¡',
											            confirmButtonColor: '#d33',
											            cancelButtonColor: '#6c757d',
											            customClass: { container: 'swal2-rtl' }
											        }).then((result) => {
											            if (result.isConfirmed) {
											                fetch(`/mouvement/${id}/delete`, {
											                    method: 'DELETE',
											                    headers: { 'X-Requested-With': 'XMLHttpRequest' }
											                })
											                .then(response => response.json())
											                .then(data => {
											                    if (data.success) {
											                        Swal.fire({
											                            title: 'ØªÙ… Ø§Ù„Ø­Ø°Ù!',
											                            text: 'Ù„Ù‚Ø¯ ØªÙ… Ø­Ø°Ù Ø§Ù„Ø­Ø±ÙƒØ© ÙˆØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø®Ø²ÙˆÙ†.',
											                            icon: 'success',
											                            customClass: { container: 'swal2-rtl' }
											                        }).then(() => {
											                            location.reload();
											                        });
											                    }
											                });
											            }
											        });
											    });
											});
									        </script>{% block javascripts %}
				 <script>
				document.addEventListener("DOMContentLoaded", function() {
				    // ===== AJOUT ARTICLE =====
				    const articleForm = document.getElementById('articleForm');
				    if (articleForm) {
				        articleForm.addEventListener('submit', function(e) {
				            e.preventDefault();
				            const formData = new FormData(articleForm);
				            const action = articleForm.getAttribute('data-action');

				            fetch(action, {
				                method: 'POST',
				                body: formData
				            })
				            .then(response => response.json())
				            .then(data => {
				                if (data.success) {
				                    // RÃ©initialiser le formulaire
				                    articleForm.reset();
				                    // Fermer Select2
				                    $('.select2-entity').val(null).trigger('change');

				                    // Ajouter la ligne au tableau
				                    const table = $('#articlesTable').DataTable();
				                    const etatHtml = data.article.etat === 'alerte'
				                        ? '<span class="badge bg-danger">âš ï¸ Ù…Ù†Ø®ÙØ¶</span>'
				                        : '<span class="badge bg-success">âœ… ÙƒØ§ÙÙ</span>';

				                    table.row.add([
				                        `<span dir="ltr">${data.article.reference}</span>`,
				                        data.article.nom,
				                        data.article.categorie,
				                        data.article.fournisseur,
				                        data.article.stock,
				                        data.article.seuilAlerte,
				                        etatHtml,
				                        `<a href="/article/${data.article.id}/edit" class="btn btn-sm btn-outline-primary"><i class="bi bi-pencil"></i></a>
				                         <button type="button" class="btn btn-sm btn-outline-danger delete-article" data-id="${data.article.id}"><i class="bi bi-trash"></i></button>`
				                    ]).draw(false);

				                    // SweetAlert
				                    Swal.fire({
				                        title: 'ØªÙ… Ø¨Ù†Ø¬Ø§Ø­!',
				                        text: 'Ù„Ù‚Ø¯ ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬.',
				                        icon: 'success',
				                        confirmButtonText: 'Ø­Ø³Ù†Ø§Ù‹',
				                        customClass: { container: 'swal2-rtl' }
				                    });
				                } else {
				                    Swal.fire({
				                        title: 'Ø®Ø·Ø£!',
				                        text: data.errors?.join('\n') || 'ÙØ´Ù„ Ø§Ù„Ø¥Ø¶Ø§ÙØ©.',
				                        icon: 'error',
				                        customClass: { container: 'swal2-rtl' }
				                    });
				                }
				            });
				        });
				    }

				    // ===== AJOUT MOUVEMENT =====
				    const mouvementForm = document.getElementById('mouvementForm');
				    if (mouvementForm) {
				        mouvementForm.addEventListener('submit', function(e) {
				            e.preventDefault();
				            const formData = new FormData(mouvementForm);
				            const action = mouvementForm.getAttribute('data-action');

				            fetch(action, {
				                method: 'POST',
				                body: formData
				            })
				            .then(response => response.json())
				            .then(data => {
				                if (data.success) {
				                    mouvementForm.reset();
				                    $('#mouvement_stock_type').trigger('change'); // rÃ©initialiser les champs dynamiques

				                    // Si la table des mouvements existe
				                    if ($.fn.DataTable.isDataTable('#mvtTable')) {
				                        const table = $('#mvtTable').DataTable();
				                        const typeHtml = data.mouvement.type === 'entree'
				                            ? '<span class="badge bg-success">ğŸ“¥ Ø¯Ø®ÙˆÙ„</span>'
				                            : '<span class="badge bg-danger">ğŸ“¤ Ø®Ø±ÙˆØ¬</span>';
				                        const quantite = data.mouvement.type === 'entree'
				                            ? '+' + data.mouvement.quantite
				                            : '-' + data.mouvement.quantite;
				                        const partie = data.mouvement.fournisseur
				                            ? `<i class="bi bi-truck"></i> ${data.mouvement.fournisseur}`
				                            : `<i class="bi bi-person"></i> ${data.mouvement.beneficiaire}`;

				                        table.row.add([
				                            data.mouvement.date,
				                            data.mouvement.article,
				                            typeHtml,
				                            quantite,
				                            partie,
				                            `<button type="button" class="btn btn-sm btn-outline-danger delete-mouvement" data-id="${data.mouvement.id}"><i class="bi bi-trash"></i></button>`
				                        ]).draw(false);
				                    }

				                    Swal.fire({
				                        title: 'ØªÙ… Ø¨Ù†Ø¬Ø§Ø­!',
				                        text: 'Ù„Ù‚Ø¯ ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø­Ø±ÙƒØ©.',
				                        icon: 'success',
				                        customClass: { container: 'swal2-rtl' }
				                    });
				                } else {
				                    Swal.fire({
				                        title: 'Ø®Ø·Ø£!',
				                        text: data.message || 'ÙØ´Ù„ Ø§Ù„Ø¥Ø¶Ø§ÙØ©.',
				                        icon: 'error',
				                        customClass: { container: 'swal2-rtl' }
				                    });
				                }
				            });
				        });
				    }

				    // ===== GESTION SUPPRESSION (dÃ©jÃ  en AJAX, mais sans rechargement) =====
				    // (On garde le code prÃ©cÃ©dent, mais on remplace `location.reload()` par une suppression de ligne)

				    // RÃ©utiliser les gestionnaires de suppression ici, mais avec `.remove()` sur la ligne
				    // (Je peux les adapter si tu veux â€” dis-moi !)
				});
				</script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Afficher les messages flash avec SweetAlert
            {% for message in app.flashes('error') %}
                Swal.fire({
                    title: 'Erreur !',
                    text: '{{ message|e('js') }}',
                    icon: 'error',
                    confirmButtonText: 'OK',
                    customClass: {
                        container: 'swal2-rtl'
                    }
                });
            {% endfor %}

            {% for message in app.flashes('success') %}
                Swal.fire({
                    title: 'SuccÃ¨s !',
                    text: '{{ message|e('js') }}',
                    icon: 'success',
                    confirmButtonText: 'OK',
                    customClass: {
                        container: 'swal2-rtl'
                    }
                });
            {% endfor %}
        });
    </script>
			{% endblock %}
		</body>
	</html>
>>>>>>> d6476d60ab6c137fd57e0e94d3b5e16948081daa
